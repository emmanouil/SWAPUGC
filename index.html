<!DOCTYPE html>
<html>

<head>
    <title>Simple Map w. MediaSource Extensions</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="assets/style.css">
</head>

<body>
    <svg id="user-svg">
        <circle cx="32" cy="32" r="30" stroke="black" stroke-width="3" fill="red" fill-opacity="0.4" />
    </svg>

    <script src="parameters.js"></script>
    <script src="events.js" defer></script>
    <script src="maps.js"></script>
    <!-- For asynchronous load (non-blocking) -->
    <!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB90QIExwNn50gJayF-NozhHWvhjhO0A88&callback=initMap" async defer></script>-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB90QIExwNn50gJayF-NozhHWvhjhO0A88&callback=initMap" defer></script>
    <script src="helper.js"></script>
    <script src="mpd_tools.js"></script>
    <script src="video.js"></script>
    <script src="mse.js"></script>
    <script src="main.js" defer></script>


    <div id="map">
    </div>
    <br/>
    <div id="container">
        <div id="video_container">
            <!--<video src="blob" id="v" hidden=true controls muted=true width="320" height="240"></video>-->
            <video id="v_main" controls muted=true width="640" height="360"></video>
        </div>
        <div id="menu">
            Select File:
            <select name="select" onchange="selectFile(this.selectedIndex)">
            </select>
            <!--
            <br/> Set Time:
            <input type="text" id="start_time_input"></input>
            -->
            <br/>
            <button id="init_ts_btn" onclick="initTimeAndSpace(this);" disabled=true>Init Time & Space</button>
            <button id="init_mk_btn" onclick="initMarkers(this);" disabled=true>Init Markers</button>
            <button id="play_btn" onclick="goToAndPlay(this);" disabled=true>Play</button>
            <br/>
            <!-- <label>0<input name ="zoomLevel" type='range' onchange="setDefaultZoom();" min="0" max="21" step="1"/>21 Set value of Default Zoom level</label> -->
        </div>
        <button id="reset_btn" onclick="resetSourceBuffer();">Fix MSE</button>
        <button id="test_btn" onclick="printBufferStatus();">print Buffer Status</button>
        <button id="next_btn" onclick="nextStream();" disabled=true>Switch</button>
    </div>
    <div id="about">
        <p>The demo plays a segmented mp4 file (generated using MP4Box of
            <a href="http://www.gpac.io" target="_blank">GPAC</a>). The entire movie is 'streamed' to a video element by appending each segment using the
            <a href="https://dvcs.w3.org/hg/html-media/raw-file/tip/media-source/media-source.html" target="_blank">MediaSource API</a>.
        </p>
    </div>

</body>

</html>